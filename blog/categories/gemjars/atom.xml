<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: gemjars | Development Blog]]></title>
  <link href="http://akiellor.github.io/blog/categories/gemjars/atom.xml" rel="self"/>
  <link href="http://akiellor.github.io/"/>
  <updated>2013-07-29T01:33:16-07:00</updated>
  <id>http://akiellor.github.io/</id>
  <author>
    <name><![CDATA[Andrew Kiellor]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Build an Interative Prompt for your Java application.]]></title>
    <link href="http://akiellor.github.io/blog/2013/07/28/pry-jruby/"/>
    <updated>2013-07-28T23:58:00-07:00</updated>
    <id>http://akiellor.github.io/blog/2013/07/28/pry-jruby</id>
    <content type="html"><![CDATA[<h2>Tools</h2>

<p><a href="http://maven.apache.org">Maven</a> will be used to build this application, but
the approach can be ported to <a href="http://gradle.org">Gradle</a> trivially.</p>

<p><a href="http://pryrepl.org/">Pry</a> is an awesome RubyGem which gives a bit more polished IRB.</p>

<p><a href="http://jruby.org">JRuby</a> allows you to use Pry as an interactive prompt for
your java application.</p>

<h2>The Code</h2>

<p>For this exercise we will be using <a href="http://maven.apache.org">Maven</a> to build
our application.</p>

<p>Maven uses a pom.xml file to declare dependencies and additional build logic.
Start with a basic pom.xml.</p>

<script src="https://gist.github.com/akiellor/6102781.js?file=pom-empty.xml"></script>


<p>Next some dependencies. It important to add the additional &lsquo;gemjars&rsquo; repository.
The &lsquo;gemjars&rsquo; repository is a mirror of RubyGems, but is structured in a way that is suitable for use with Maven.</p>

<script src="https://gist.github.com/akiellor/6102781.js?file=pom-dependencies.xml"></script>


<p>We&rsquo;ll add configuration for the Maven java compiler and the maven-shade-plugin.
The compiler configuration is provided to tell Maven to compile for version 1.6
of java. The maven-shade-plugin is a way of packaging a java application into a
&lsquo;fatjar&rsquo;.</p>

<script src="https://gist.github.com/akiellor/6102781.js?file=pom-plugins.xml"></script>


<p>A regular java main-class (<strong><em>src/main/java/com/example/pry/Main.java</em></strong>) is used
to start JRuby and Pry.</p>

<script src="https://gist.github.com/akiellor/6102781.js?file=Main.java"></script>


<h2>Build</h2>

<p><code>
$ mvn clean package
</code></p>

<h2>Run It</h2>

<p><code>
$ java -jar target/pry-0.0.1-SNAPSHOT-shaded.jar
</code></p>
]]></content>
  </entry>
  
</feed>
